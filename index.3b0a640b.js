const e=document.getElementById("data"),t=document.getElementById("search"),n=document.getElementById("loading"),s=document.getElementById("ingredients-div"),o=document.getElementById("ingredients"),i=document.getElementById("search-ingredients"),c=document.getElementById("apply"),l=document.getElementById("arrow-up");let d=[],a=[],r=[],u=[],m=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],f=!1,L=!1;function p(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function g(){for(let e of d)e.textContent.toLowerCase().includes(i.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}function v(){for(let e of u)w(e.dataset.ingredients.split(","))&&e.childNodes[1].textContent.toLowerCase().includes(t.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}function w(e){return e=e.map(e=>e.toLowerCase()),r.every(t=>e.includes(t))}async function h(){for(let e of a=a.sort().splice(1,a.length)){let t=document.createElement("p");t.textContent=e,t.addEventListener("click",()=>{!function(e){if(e.classList.toggle("selected"),e.classList.contains("selected"))r.push(e.textContent.toLowerCase());else{let t=r.indexOf(e.textContent.toLowerCase());-1!==t&&r.splice(t,1)}}(t)}),t.setAttribute("class","ingredient"),s.appendChild(t)}}async function C(e){e.forEach(async e=>{y(e)})}async function y(t){let n=document.createElement("div"),s=document.createElement("h1"),o=document.createElement("img"),i=function(e){let t="";for(let n=1;n<=15;n++){let s=e["strIngredient"+n];if(null!==s){t+=s+",",a.includes(s.toLowerCase())||a.push(s.toLowerCase());continue}break}return t.slice(0,t.length-1)}(t);o.src=t.strDrinkThumb+"/preview",s.textContent=t.strDrink,n.dataset.ingredients=i,n.appendChild(o),n.appendChild(s),n.setAttribute("id",t.idDrink),n.setAttribute("class","cocktail"),e.appendChild(n)}async function E(){u=document.getElementsByClassName("cocktail"),d=document.getElementsByClassName("ingredient"),i.value="",t.value="",document.body.removeAttribute("id"),n.removeAttribute("id"),n.setAttribute("class","none")}window.addEventListener("scroll",e=>{(void 0!==window.scrollY?window.scrollY:(document.documentElement||document.body.parentNode||document.body).scrollTop)>=1e3?l.classList.remove("none"):l.classList.add("none")}),o.addEventListener("click",e=>{p(o,"selected"),p(s,"none")}),t.addEventListener("input",e=>{if(f=""!==t.value,L)v();else for(let e of u)e.childNodes[1].textContent.toLowerCase().includes(t.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}),c.addEventListener("click",()=>{p(o,"selected"),i.value="",g(),p(s,"none"),function(){if(L=0!==r.length,f)v();else for(let e of u)w(e.dataset.ingredients.split(","))?e.setAttribute("class","cocktail"):e.setAttribute("class","cocktail none")}()}),i.addEventListener("input",g),async function(){for await(let e of m)await fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?f="+e).then(e=>e.json()).then(e=>{null!==e.drinks&&C(e.drinks)});await h(),E()}();
//# sourceMappingURL=index.3b0a640b.js.map
