const e=document.getElementById("data"),t=document.getElementById("search"),n=document.getElementById("loading"),s=document.getElementById("ingredients-div"),i=document.getElementById("ingredients"),o=document.getElementById("search-ingredients"),c=document.getElementById("apply");let l=[],a=[],d=[],r=[],u=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],m=!1,f=!1;function L(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function g(){for(let e of l)e.textContent.toLowerCase().includes(o.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}function p(){for(let e of r)h(e.dataset.ingredients.split(","))&&e.childNodes[1].textContent.toLowerCase().includes(t.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}function h(e){return e=e.map(e=>e.toLowerCase()),d.every(t=>e.includes(t))}async function v(e){e.forEach(async e=>{C(e)})}async function C(t){let n=document.createElement("div"),s=document.createElement("h1"),i=document.createElement("img"),o=function(e){let t="";for(let n=1;n<=15;n++){let s=e["strIngredient"+n];if(null!==s){t+=s+",",a.includes(s.toLowerCase())||a.push(s.toLowerCase());continue}break}return t.slice(0,t.length-1)}(t);i.src=t.strDrinkThumb+"/preview",s.textContent=t.strDrink,n.dataset.ingredients=o,n.appendChild(i),n.appendChild(s),n.setAttribute("id",t.idDrink),n.setAttribute("class","cocktail"),e.appendChild(n)}async function w(){r=document.getElementsByClassName("cocktail"),l=document.getElementsByClassName("ingredient"),o.value="",t.value="",document.body.removeAttribute("id"),n.removeAttribute("id"),n.setAttribute("class","none")}i.addEventListener("click",e=>{L(i,"selected"),L(s,"none")}),t.addEventListener("input",e=>{if(m=""!==t.value,f)p();else for(let e of r)e.childNodes[1].textContent.toLowerCase().includes(t.value.toLowerCase())?e.classList.remove("none"):e.classList.add("none")}),c.addEventListener("click",()=>{L(i,"selected"),o.value="",g(),L(s,"none"),function(){if(f=0!==d.length,m)p();else for(let e of r)h(e.dataset.ingredients.split(","))?e.setAttribute("class","cocktail"):e.setAttribute("class","cocktail none")}()}),o.addEventListener("input",g),async function(){for await(let e of u)await fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?f="+e).then(e=>e.json()).then(e=>{null!==e.drinks&&v(e.drinks)});await function(){for(let e of a=a.sort().splice(1,a.length)){let t=document.createElement("p");t.textContent=e,t.addEventListener("click",()=>{!function(e){if(e.classList.toggle("selected"),e.classList.contains("selected"))d.push(e.textContent.toLowerCase());else{let t=d.indexOf(e.textContent.toLowerCase());-1!==t&&d.splice(t,1)}}(t)}),t.setAttribute("class","ingredient"),s.appendChild(t)}}(),w()}();
//# sourceMappingURL=index.24f7ee00.js.map
